(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bb990c6"],{2194:function(t,a,s){"use strict";var e=s("a3b9"),i=s.n(e);i.a},"234e":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"animated fadeIn"},[s("div",{staticClass:"email-app mb-4"},[s("nav",[s("router-link",{attrs:{to:"/messagelog/compose"}},[s("a",{staticClass:"btn btn-danger btn-block new_email_btn"},[t._v("New Email")])]),s("ul",{staticClass:"nav"},[s("li",{staticClass:"nav-item"},[s("router-link",{attrs:{to:"/messagelog/sent"}},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[s("i",{staticClass:"fa fa-rocket"}),t._v(" Sent")])])],1),s("li",{staticClass:"nav-item"},[s("router-link",{attrs:{to:"/messagelog/favorite"}},[s("a",{staticClass:"nav-link active-log-tab",attrs:{href:"#"}},[s("i",{staticClass:"fa fa-star"}),t._v(" Favorite")])])],1),s("li",{staticClass:"nav-item"},[s("router-link",{attrs:{to:"/messagelog/trash"}},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[s("i",{staticClass:"fa fa-trash-o"}),t._v(" Trash")])])],1)])],1),s("main",{staticClass:"inbox"},[s("div",{staticClass:"toolbar"},[s("div",{staticClass:"btn-group mr-1"},[s("b-button",{attrs:{variant:"light"},on:{click:function(a){return t.favoriteLog("")}}},[s("p",{staticClass:"logActions",attrs:{title:"star"}},[s("span",{staticClass:"fa fa-star"})])]),s("b-button",{attrs:{variant:"light"},on:{click:function(a){return t.unfavoriteLog("")}}},[s("p",{staticClass:"logActions",attrs:{title:"unstar"}},[s("span",{staticClass:"fa fa-star-o"})])])],1),s("div",{staticClass:"btn-group mr-1"},[s("b-button",{attrs:{variant:"light"}},[s("span",{staticClass:"fa fa-mail-reply"})]),s("b-button",{attrs:{variant:"light"}},[s("span",{staticClass:"fa fa-mail-reply-all"})]),s("b-button",{attrs:{variant:"light"}},[s("span",{staticClass:"fa fa-mail-forward"})])],1),s("b-button",{attrs:{variant:"light"},on:{click:function(a){return t.deletelog()}}},[s("span",{staticClass:"fa fa-trash-o"})]),s("b-dropdown",{staticClass:"ml-1",attrs:{variant:"light"}},[s("template",{slot:"button-content"},[s("span",{staticClass:"fa fa-tags"})]),s("b-dropdown-item",{attrs:{href:"#"}},[t._v("add label "),s("b-badge",{attrs:{variant:"danger"}},[t._v(" Home")])],1),s("b-dropdown-item",{attrs:{href:"#"}},[t._v("add label "),s("b-badge",{attrs:{variant:"info"}},[t._v(" Job")])],1),s("b-dropdown-item",{attrs:{href:"#"}},[t._v("add label "),s("b-badge",{attrs:{variant:"success"}},[t._v(" Clients")])],1),s("b-dropdown-item",{attrs:{href:"#"}},[t._v("add label "),s("b-badge",{attrs:{variant:"warning"}},[t._v(" News")])],1)],2),s("div",{staticClass:"btn-group float-right"},[s("b-button",{attrs:{variant:"light"}},[s("span",{staticClass:"fa fa-chevron-left"})]),s("b-button",{attrs:{variant:"light"}},[s("span",{staticClass:"fa fa-chevron-right"})])],1)],1),s("ul",{staticClass:"messages"},t._l(t.favoriteMessages,(function(a,e){return s("li",{key:e,staticClass:"message",class:{unread:"1"==a.read_flag},on:{getFavoriteMessageLog:t.getFavoriteMessageLog}},[s("a",{attrs:{href:"#"}},[s("div",{staticClass:"actions"},[s("span",{staticClass:"action"},[s("input",{attrs:{type:"checkbox"},on:{change:function(a){return t.toggleSelection(e)}}})]),0==a.star?s("span",{staticClass:"action"},[s("i",{staticClass:"fa fa-star-o"})]):t._e(),1==a.star?s("span",{staticClass:"action"},[s("i",{staticClass:"fa fa-star icon-d"})]):t._e()]),s("div",{on:{click:function(s){return t.gotoSingleMessage(a)}}},[s("div",{staticClass:"header"},[s("span",{staticClass:"from"},[t._v(t._s(t._f("pretty")(a.message_to)))]),s("span",{staticClass:"date"},[s("span",{staticClass:"fa fa-paper-clip"}),t._v(t._s(t._f("formatDate")(a.time)))])]),s("div",{staticClass:"title"},[t._v("\n                "+t._s(a.subject)+"\n              ")]),s("div",{staticClass:"description"},[t._v("\n                "+t._s(t.converHTML(a.message).slice(0,200))+"\n              ")])])])])})),0)])])])},i=[],o=(s("28a5"),s("a481"),s("bc3a"),s("e440"),s("5596")),r=s.n(o),n=s("5661"),l=s("a18c"),c=s("9062"),f=s.n(c),g=(s("e40d"),s("c1df")),v=s.n(g),d={success:"success",error:"error",info:"info",warn:"warn"};r.a.init({types:d});var u={name:"favorite",components:{Loading:f.a},data:function(){return{favoriteMessages:[],userId:""}},beforeCreate:function(){void 0!=localStorage.user_id&&"0"!=localStorage.user_id||l["a"].push({name:"Login"})},created:function(){this.userId=localStorage.user_id,this.getFavoriteMessageLog()},methods:{getFavoriteMessageLog:function(){var t=this,a=n["a"]+"/sendMessageLog/getFavoriteMessageLog/"+this.userId;this.axios.post(a).then((function(a){if("error"==a.data.status)r.a.info("Favorite list is empty","Info");else if(t.favoriteMessages=a.data,t.favoriteMessages.length>0)for(var s=0;s<t.favoriteMessages.length;s++)t.favoriteMessages[s]["isSelected"]=!1;console.log(t.favoriteMessages)}))},converHTML:function(t){var a=(new DOMParser).parseFromString(t,"text/html"),s=a.documentElement.textContent;return s},gotoSingleMessage:function(t){l["a"].push({name:"Message",params:{logId:t.id}})},toggleSelection:function(t){this.favoriteMessages[t]["isSelected"]=!this.favoriteMessages[t]["isSelected"],console.log(this.favoriteMessages[t])},deletelog:function(){var t=this,a=[];if(this.favoriteMessages.length>0){for(var s=0;s<this.favoriteMessages.length;s++)this.favoriteMessages[s]["isSelected"]&&a.push(this.favoriteMessages[s].id);if(console.log("logdelete===>"+a),a.length>0){var e={agencyId:this.userId,messageLog:a},i=n["a"]+"/sendMessageLog/moveToTrash";this.axios.post(i,e).then((function(a){"error"==a.data.status?r.a.error(a.data.message,"No Records found"):(location.reload(),r.a.success("Moved to Trash","Success")),console.log(t.favoriteMessages)}))}else r.a.info("Please select record to delete","Info")}else r.a.info("Please select record to delete","Info")},unfavoriteLog:function(t){var a=this,s=[];if(this.favoriteMessages.length>0){if(""==t)for(var e=0;e<this.favoriteMessages.length;e++)this.favoriteMessages[e]["isSelected"]&&1==this.favoriteMessages[e]["star"]&&s.push(this.favoriteMessages[e].id);else s.push(t);if(console.log("logfav===>"+s),s.length>0){var i={agencyId:this.userId,messageLog:s},o=n["a"]+"/sendMessageLog/removeFavorite";this.axios.post(o,i).then((function(t){"error"==t.data.status?r.a.error(t.data.message,"No Records found"):(location.reload(),r.a.success("Removed from Favorite","Success")),console.log(a.favoriteMessages)}))}else r.a.info("Please select favorite record to remove from mark favorite","Info")}else r.a.info("Please select record remove from delete","Info")}},filters:{pretty:function(t){if(void 0!==t){var a=t.replace(/[\[\]"']+/g,"");a.split(",");return a}},formatDate:function(t){return v()(String(t)).format("MM/DD/YYYY hh:mm")}}},h=u,m=(s("2194"),s("2877")),p=Object(m["a"])(h,e,i,!1,null,"6f47fd6e",null);a["default"]=p.exports},a3b9:function(t,a,s){}}]);
//# sourceMappingURL=chunk-4bb990c6.ddd5c03a.js.map