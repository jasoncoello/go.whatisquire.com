(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ec4042f"],{5741:function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"animated fadeIn"},[a("div",{staticClass:"email-app mb-4"},[a("nav",[a("router-link",{attrs:{to:"/messagelog/compose"}},[a("a",{staticClass:"btn btn-danger btn-block new_email_btn"},[s._v("New Email")])]),a("ul",{staticClass:"nav"},[a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:"/messagelog/sent"}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-rocket"}),s._v(" Sent")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:"/messagelog/favorite"}},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-star"}),s._v(" Favorite")])])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:"/messagelog/trash"}},[a("a",{staticClass:"nav-link active-log-tab",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-trash-o"}),s._v(" Trash")])])],1)])],1),a("main",{staticClass:"inbox"},[a("div",{staticClass:"toolbar"},[a("div",{staticClass:"btn-group mr-1"},[a("b-button",{attrs:{variant:"light"}},[a("span",{staticClass:"fa fa-mail-reply"})]),a("b-button",{attrs:{variant:"light"}},[a("span",{staticClass:"fa fa-mail-reply-all"})]),a("b-button",{attrs:{variant:"light"}},[a("span",{staticClass:"fa fa-mail-forward"})])],1),a("b-button",{attrs:{variant:"light"},on:{click:function(t){return s.deletelogForever()}}},[a("span",[s._v("Delete Forever")])]),a("b-button",{attrs:{variant:"light"},on:{click:function(t){return s.restorelogfromTrash()}}},[a("span",[s._v("Restore to Previous")])]),a("b-dropdown",{staticClass:"ml-1",attrs:{variant:"light"}},[a("template",{slot:"button-content"},[a("span",{staticClass:"fa fa-tags"})]),a("b-dropdown-item",{attrs:{href:"#"}},[s._v("add label "),a("b-badge",{attrs:{variant:"danger"}},[s._v(" Home")])],1),a("b-dropdown-item",{attrs:{href:"#"}},[s._v("add label "),a("b-badge",{attrs:{variant:"info"}},[s._v(" Job")])],1),a("b-dropdown-item",{attrs:{href:"#"}},[s._v("add label "),a("b-badge",{attrs:{variant:"success"}},[s._v(" Clients")])],1),a("b-dropdown-item",{attrs:{href:"#"}},[s._v("add label "),a("b-badge",{attrs:{variant:"warning"}},[s._v(" News")])],1)],2),a("div",{staticClass:"btn-group float-right"},[a("b-button",{attrs:{variant:"light"}},[a("span",{staticClass:"fa fa-chevron-left"})]),a("b-button",{attrs:{variant:"light"}},[a("span",{staticClass:"fa fa-chevron-right"})])],1)],1),a("ul",{staticClass:"messages"},s._l(s.trashMessages,(function(t,e){return a("li",{key:e,staticClass:"message",class:{unread:"1"==t.read_flag},on:{getTrashMessageLog:s.getTrashMessageLog}},[a("a",{attrs:{href:"#"}},[a("div",{staticClass:"actions"},[a("span",{staticClass:"action"},[a("input",{attrs:{type:"checkbox"},on:{change:function(t){return s.toggleSelection(e)}}})]),0==t.star?a("span",{staticClass:"action"},[a("i",{staticClass:"fa fa-star-o"})]):s._e(),1==t.star?a("span",{staticClass:"action"},[a("i",{staticClass:"fa fa-star icon-d"})]):s._e()]),a("div",{on:{click:function(a){return s.gotoSingleMessage(t)}}},[a("div",{staticClass:"header"},[a("span",{staticClass:"from"},[s._v(s._s(s._f("pretty")(t.message_to)))]),a("span",{staticClass:"date"},[a("span",{staticClass:"fa fa-paper-clip"}),s._v(s._s(s._f("formatDate")(t.time)))])]),a("div",{staticClass:"title"},[s._v("\n                "+s._s(t.subject)+"\n              ")]),a("div",{staticClass:"description"},[s._v("\n                "+s._s(s.converHTML(t.message).slice(0,200))+"\n              ")])])])])})),0)])])])},r=[],n=(a("28a5"),a("a481"),a("bc3a"),a("e440"),a("5596")),i=a.n(n),o=a("5661"),l=a("a18c"),c=a("9062"),g=a.n(c),f=(a("e40d"),a("c1df")),d=a.n(f),h={success:"success",error:"error",info:"info",warn:"warn"};i.a.init({types:h});var u={name:"trash",components:{Loading:g.a},data:function(){return{trashMessages:[],userId:""}},beforeCreate:function(){void 0!=localStorage.user_id&&"0"!=localStorage.user_id||l["a"].push({name:"Login"})},created:function(){this.userId=localStorage.user_id,this.getTrashMessageLog()},methods:{getTrashMessageLog:function(){var s=this,t=o["a"]+"/sendMessageLog/getTrashMessageLog/"+this.userId;this.axios.post(t).then((function(t){if("error"==t.data.status)i.a.info("Trash is empty","Info");else if(s.trashMessages=t.data,s.trashMessages.length>0)for(var a=0;a<s.trashMessages.length;a++)s.trashMessages[a]["isSelected"]=!1;console.log(s.trashMessages)}))},converHTML:function(s){var t=(new DOMParser).parseFromString(s,"text/html"),a=t.documentElement.textContent;return a},gotoSingleMessage:function(s){l["a"].push({name:"Message",params:{logId:s.id,from:"trash"}})},toggleSelection:function(s){this.trashMessages[s]["isSelected"]=!this.trashMessages[s]["isSelected"],console.log(this.trashMessages[s])},deletelogForever:function(){var s=this,t=[];if(this.trashMessages.length>0){for(var a=0;a<this.trashMessages.length;a++)this.trashMessages[a]["isSelected"]&&t.push(this.trashMessages[a].id);if(console.log("logdelete===>"+t),t.length>0){var e={agencyId:this.userId,messageLog:t},r=o["a"]+"/sendMessageLog/deletelogForever";this.axios.post(r,e).then((function(t){"error"==t.data.status?i.a.error(t.data.message,"No Records found"):(location.reload(),i.a.success("Deleted Successfully","Success")),console.log(s.trashMessages)}))}else i.a.info("Please select record to delete","Info")}},restorelogfromTrash:function(){var s=this,t=[];if(this.trashMessages.length>0){for(var a=0;a<this.trashMessages.length;a++)this.trashMessages[a]["isSelected"]&&t.push(this.trashMessages[a].id);if(console.log("logdelete===>"+t),t.length>0){var e={agencyId:this.userId,messageLog:t},r=o["a"]+"/sendMessageLog/restorelogfromTrash";this.axios.post(r,e).then((function(t){"error"==t.data.status?i.a.error(t.data.message,"No Records found"):(location.reload(),i.a.success("Restored Successfully","Success")),console.log(s.trashMessages)}))}else i.a.info("Please select record to delete","Info")}}},filters:{pretty:function(s){if(void 0!==s){var t=s.replace(/[\[\]"']+/g,"");t.split(",");return t}},formatDate:function(s){return d()(String(s)).format("MM/DD/YYYY hh:mm")}}},v=u,m=(a("7259"),a("2877")),p=Object(m["a"])(v,e,r,!1,null,"0756edec",null);t["default"]=p.exports},7259:function(s,t,a){"use strict";var e=a("cf12"),r=a.n(e);r.a},cf12:function(s,t,a){}}]);
//# sourceMappingURL=chunk-6ec4042f.a203c100.js.map