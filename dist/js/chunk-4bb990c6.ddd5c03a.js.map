{"version":3,"sources":["webpack:///./src/views/apps/email/Favorite.vue?abdd","webpack:///./src/views/apps/email/Favorite.vue?60c7","webpack:///src/views/apps/email/Favorite.vue","webpack:///./src/views/apps/email/Favorite.vue?da5b","webpack:///./src/views/apps/email/Favorite.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","on","$event","favoriteLog","unfavoriteLog","deletelog","slot","_l","item","index","key","class","read_flag","getFavoriteMessageLog","toggleSelection","star","_e","gotoSingleMessage","_s","_f","message_to","time","subject","converHTML","message","slice","staticRenderFns","success","error","info","warn","name","components","Loading","data","favoriteMessages","userId","beforeCreate","created","localStorage","user_id","axios","post","asksUri","then","console","log","textContent","router","logdelete","push","i","id","param","agencyId","messageLog","location","reload","logfav","logId","filters","pretty","a","value","replace","split","formatDate","component"],"mappings":"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","file":"js/chunk-4bb990c6.ddd5c03a.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorite.vue?vue&type=style&index=0&id=6f47fd6e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorite.vue?vue&type=style&index=0&id=6f47fd6e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"animated fadeIn\"},[_c('div',{staticClass:\"email-app mb-4\"},[_c('nav',[_c('router-link',{attrs:{\"to\":\"/messagelog/compose\"}},[_c('a',{staticClass:\"btn btn-danger btn-block new_email_btn\"},[_vm._v(\"New Email\")])]),_c('ul',{staticClass:\"nav\"},[_c('li',{staticClass:\"nav-item\"},[_c('router-link',{attrs:{\"to\":\"/messagelog/sent\"}},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-rocket\"}),_vm._v(\" Sent\")])])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{attrs:{\"to\":\"/messagelog/favorite\"}},[_c('a',{staticClass:\"nav-link active-log-tab\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-star\"}),_vm._v(\" Favorite\")])])],1),_c('li',{staticClass:\"nav-item\"},[_c('router-link',{attrs:{\"to\":\"/messagelog/trash\"}},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"#\"}},[_c('i',{staticClass:\"fa fa-trash-o\"}),_vm._v(\" Trash\")])])],1)])],1),_c('main',{staticClass:\"inbox\"},[_c('div',{staticClass:\"toolbar\"},[_c('div',{staticClass:\"btn-group mr-1\"},[_c('b-button',{attrs:{\"variant\":\"light\"},on:{\"click\":function($event){return _vm.favoriteLog('')}}},[_c('p',{staticClass:\"logActions\",attrs:{\"title\":\"star\"}},[_c('span',{staticClass:\"fa fa-star\"})])]),_c('b-button',{attrs:{\"variant\":\"light\"},on:{\"click\":function($event){return _vm.unfavoriteLog('')}}},[_c('p',{staticClass:\"logActions\",attrs:{\"title\":\"unstar\"}},[_c('span',{staticClass:\"fa fa-star-o\"})])])],1),_c('div',{staticClass:\"btn-group mr-1\"},[_c('b-button',{attrs:{\"variant\":\"light\"}},[_c('span',{staticClass:\"fa fa-mail-reply\"})]),_c('b-button',{attrs:{\"variant\":\"light\"}},[_c('span',{staticClass:\"fa fa-mail-reply-all\"})]),_c('b-button',{attrs:{\"variant\":\"light\"}},[_c('span',{staticClass:\"fa fa-mail-forward\"})])],1),_c('b-button',{attrs:{\"variant\":\"light\"},on:{\"click\":function($event){return _vm.deletelog()}}},[_c('span',{staticClass:\"fa fa-trash-o\"})]),_c('b-dropdown',{staticClass:\"ml-1\",attrs:{\"variant\":\"light\"}},[_c('template',{slot:\"button-content\"},[_c('span',{staticClass:\"fa fa-tags\"})]),_c('b-dropdown-item',{attrs:{\"href\":\"#\"}},[_vm._v(\"add label \"),_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\" Home\")])],1),_c('b-dropdown-item',{attrs:{\"href\":\"#\"}},[_vm._v(\"add label \"),_c('b-badge',{attrs:{\"variant\":\"info\"}},[_vm._v(\" Job\")])],1),_c('b-dropdown-item',{attrs:{\"href\":\"#\"}},[_vm._v(\"add label \"),_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\" Clients\")])],1),_c('b-dropdown-item',{attrs:{\"href\":\"#\"}},[_vm._v(\"add label \"),_c('b-badge',{attrs:{\"variant\":\"warning\"}},[_vm._v(\" News\")])],1)],2),_c('div',{staticClass:\"btn-group float-right\"},[_c('b-button',{attrs:{\"variant\":\"light\"}},[_c('span',{staticClass:\"fa fa-chevron-left\"})]),_c('b-button',{attrs:{\"variant\":\"light\"}},[_c('span',{staticClass:\"fa fa-chevron-right\"})])],1)],1),_c('ul',{staticClass:\"messages\"},_vm._l((_vm.favoriteMessages),function(item,index){return _c('li',{key:index,staticClass:\"message\",class:{'unread':item.read_flag=='1'},on:{\"getFavoriteMessageLog\":_vm.getFavoriteMessageLog}},[_c('a',{attrs:{\"href\":\"#\"}},[_c('div',{staticClass:\"actions\"},[_c('span',{staticClass:\"action\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"change\":function($event){return _vm.toggleSelection(index)}}})]),(item.star == 0)?_c('span',{staticClass:\"action\"},[_c('i',{staticClass:\"fa fa-star-o\"})]):_vm._e(),(item.star == 1)?_c('span',{staticClass:\"action\"},[_c('i',{staticClass:\"fa fa-star icon-d\"})]):_vm._e()]),_c('div',{on:{\"click\":function($event){return _vm.gotoSingleMessage(item)}}},[_c('div',{staticClass:\"header\"},[_c('span',{staticClass:\"from\"},[_vm._v(_vm._s(_vm._f(\"pretty\")(item.message_to)))]),_c('span',{staticClass:\"date\"},[_c('span',{staticClass:\"fa fa-paper-clip\"}),_vm._v(_vm._s(_vm._f(\"formatDate\")(item.time)))])]),_c('div',{staticClass:\"title\"},[_vm._v(\"\\n                \"+_vm._s(item.subject)+\"\\n              \")]),_c('div',{staticClass:\"description\"},[_vm._v(\"\\n                \"+_vm._s(_vm.converHTML(item.message).slice(0, 200))+\"\\n              \")])])])])}),0)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"animated fadeIn\">\n    <div class=\"email-app mb-4\">\n      <nav>\n        <!--<a href=\"#/apps/email/compose\" class=\"btn btn-danger btn-block\">New Email</a>-->\n        <router-link to=\"/messagelog/compose\"><a class=\"btn btn-danger btn-block new_email_btn\">New Email</a></router-link>\n        <ul class=\"nav\">\n          <!--<li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\"><i class=\"fa fa-inbox\"></i> Inbox <b-badge variant=\"danger\">4</b-badge></a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\"><i class=\"fa fa-star\"></i> Stared</a>\n          </li>-->\n          <li class=\"nav-item\">\n            <router-link to=\"/messagelog/sent\"><a class=\"nav-link\" href=\"#\"><i class=\"fa fa-rocket\"></i> Sent</a></router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link to=\"/messagelog/favorite\"><a class=\"nav-link active-log-tab\" href=\"#\"><i class=\"fa fa-star\"></i> Favorite</a></router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link to=\"/messagelog/trash\"><a class=\"nav-link\" href=\"#\"><i class=\"fa fa-trash-o\"></i> Trash</a></router-link>\n          </li>\n          <!--\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\"><i class=\"fa fa-bookmark\"></i> Important<b-badge variant=\"info\">5</b-badge></a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\"><i class=\"fa fa-inbox\"></i> Inbox <b-badge variant=\"danger\">4</b-badge></a>\n          </li>-->\n        </ul>\n      </nav>\n      <main class=\"inbox\">\n        <div class=\"toolbar\">\n          <!--<div class=\"btn-group mr-1\">\n            <b-button variant=\"light\"><span class=\"fa fa-envelope\"></span></b-button>\n            <b-button variant=\"light\"><span class=\"fa fa-star\"></span></b-button>\n            <b-button variant=\"light\"><span class=\"fa fa-star-o\"></span></b-button>\n            <b-button variant=\"light\"><span class=\"fa fa-bookmark-o\"></span></b-button>\n          </div>-->\n          <div class=\"btn-group mr-1\">\n            <b-button @click=\"favoriteLog('')\" variant=\"light\"><p class=\"logActions\" title=\"star\"><span class=\"fa fa-star\"></span></p></b-button>\n            <b-button @click=\"unfavoriteLog('')\" variant=\"light\"><p class=\"logActions\" title=\"unstar\"><span class=\"fa fa-star-o\"></span></p></b-button>\n          </div>\n          <div class=\"btn-group mr-1\">\n            <b-button variant=\"light\"><span class=\"fa fa-mail-reply\"></span></b-button>\n            <b-button variant=\"light\"><span class=\"fa fa-mail-reply-all\"></span></b-button>\n            <b-button variant=\"light\"><span class=\"fa fa-mail-forward\"></span></b-button>\n          </div>\n          <b-button variant=\"light\" @click=\"deletelog()\"><span class=\"fa fa-trash-o\"></span></b-button>\n          <b-dropdown class=\"ml-1\" variant=\"light\">\n            <template slot=\"button-content\">\n              <span class=\"fa fa-tags\"></span>\n            </template>\n            <b-dropdown-item href=\"#\">add label <b-badge variant=\"danger\"> Home</b-badge></b-dropdown-item>\n            <b-dropdown-item href=\"#\">add label <b-badge variant=\"info\"> Job</b-badge></b-dropdown-item>\n            <b-dropdown-item href=\"#\">add label <b-badge variant=\"success\"> Clients</b-badge></b-dropdown-item>\n            <b-dropdown-item href=\"#\">add label <b-badge variant=\"warning\"> News</b-badge></b-dropdown-item>\n          </b-dropdown>\n          <div class=\"btn-group float-right\">\n            <b-button variant=\"light\"><span class=\"fa fa-chevron-left\"></span></b-button>\n            <b-button variant=\"light\"><span class=\"fa fa-chevron-right\"></span></b-button>\n          </div>\n        </div>\n\n        <ul class=\"messages\">\n          <li class=\"message\" v-for=\"(item,index) in favoriteMessages\"  v-bind:key=\"index\" v-bind:class=\"{'unread':item.read_flag=='1'}\" v-on:getFavoriteMessageLog=\"getFavoriteMessageLog\">\n          <!--<li>-->\n            <a href=\"#\">\n              <div class=\"actions\"> \n                <!--<span class=\"action\"><i class=\"fa fa-square-o\"></i></span>-->\n                <span class=\"action\"> \n                  <input type=\"checkbox\" @change=\"toggleSelection(index)\">\n                </span>\n                <!--<span v-show=\"item.isSelected\" v-on:click=\"item.isSelected = !item.isSelected\"></span>-->\n                <span class=\"action\" v-if=\"item.star == 0\"><i class=\"fa fa-star-o\"></i></span>\n                <span class=\"action\" v-if=\"item.star == 1\"><i class=\"fa fa-star icon-d\"></i></span>\n              </div>\n              <div @click=\"gotoSingleMessage(item)\">\n                <div class=\"header\">\n                  \n                  <span class=\"from\">{{ item.message_to | pretty }}</span>\n                  <span class=\"date\"><span class=\"fa fa-paper-clip\"></span>{{item.time | formatDate}}</span>\n                </div>\n                <div class=\"title\">\n                  {{item.subject}}\n                </div>\n                <div class=\"description\">\n                  {{converHTML(item.message).slice(0, 200)}}\n                </div>\n              </div>\n            </a>\n          </li> \n        </ul>\n      </main>\n    </div>\n  </div>\n</template>\n<script>\nimport Vue from 'vue'\nimport axios from 'axios';\nimport VueNotifications from 'vue-notifications'\nimport miniToastr from 'mini-toastr'// https://github.com/se-panfilov/mini-toastr\nimport {restapiPrefix,wprestapiPrefix} from './../../variables.js'\nimport router from '../../../router';\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\nimport moment from 'moment';\n\n\nconst toastTypes = {\n  success: 'success',\n  error: 'error',\n  info: 'info',\n  warn: 'warn'\n}\n\nconst options = {\n  success: toast,\n  error: toast,\n  info: toast,\n  warn: toast\n}\n\nminiToastr.init({types: toastTypes})\n\nfunction toast ({title, message, type, timeout, cb}) {\n  return miniToastr[type](message, title, timeout, cb)\n}\n\n\nexport default {\n  name: 'favorite',\n  components: {\n    Loading\n  },\n  data () {\n    return {\n      favoriteMessages: [],\n      userId:''\n    }\n  },\n  beforeCreate: function () {\n    if(localStorage.user_id == undefined || localStorage.user_id == \"0\")\n      {        \n        router.push({ name: \"Login\"})\n      } \n  },\n  created() {\n    this.userId = localStorage.user_id;\n    this.getFavoriteMessageLog();\n  },\n   methods: {\n    getFavoriteMessageLog() {\n      let asksUri = restapiPrefix+'/sendMessageLog/getFavoriteMessageLog/'+this.userId;\n      this.axios.post(asksUri).then(response => {\n        if(response.data.status == \"error\")\n        {\n          miniToastr.info('Favorite list is empty', 'Info');\n        }\n        else{\n          this.favoriteMessages = response.data;\n          if(this.favoriteMessages.length > 0)\n          {\n            for(var i = 0; i < this.favoriteMessages.length; i++){\n              this.favoriteMessages[i]['isSelected'] = false;\n            }\n          }\n        }\n        console.log(this.favoriteMessages);\n      });\n    },\n    converHTML(str){\n      const doc = new DOMParser().parseFromString(str, \"text/html\");\n      const textContent = doc.documentElement.textContent;\n      //console.log(textContent);\n      return textContent;\n    },\n    gotoSingleMessage(item){\n      router.push({name: 'Message', params: {logId: item.id}})\n    },\n    toggleSelection(index)\n    {\n      this.favoriteMessages[index]['isSelected'] = !this.favoriteMessages[index]['isSelected'];\n      console.log(this.favoriteMessages[index]);\n      //alert(this.favoriteMessages[index]['isSelected']);\n      //return this.favoriteMessages;\n    },\n    deletelog()\n    {\n      var logdelete = [];\n      if(this.favoriteMessages.length > 0)\n      {\n        for(var i = 0; i < this.favoriteMessages.length; i++){\n          if(this.favoriteMessages[i]['isSelected'])\n          {\n            logdelete.push(this.favoriteMessages[i].id);\n          }\n        }\n\n        console.log('logdelete===>'+logdelete);\n        if(logdelete.length > 0)\n        {\n          var param = {\n            agencyId: this.userId,\n            messageLog: logdelete\n          }\n\n          let asksUri = restapiPrefix+'/sendMessageLog/moveToTrash';\n          this.axios.post(asksUri,param).then(response => {\n            if(response.data.status == \"error\")\n            {\n              miniToastr.error(response.data.message, 'No Records found');\n            }\n            else{\n              location.reload();\n              miniToastr.success('Moved to Trash', 'Success');\n            }\n            console.log(this.favoriteMessages);\n          });\n          }\n        else{\n          miniToastr.info('Please select record to delete', 'Info');\n        }\n      }\n      else{\n        miniToastr.info('Please select record to delete', 'Info');\n      }\n    },\n    unfavoriteLog(logId){\n      var logfav = [];\n      \n      if(this.favoriteMessages.length > 0)\n      {\n        if(logId == '')\n        {\n          for(var i = 0; i < this.favoriteMessages.length; i++){\n            if(this.favoriteMessages[i]['isSelected'] && this.favoriteMessages[i]['star']==1)\n            {\n              logfav.push(this.favoriteMessages[i].id);\n            }\n          }\n        }\n        else{\n          logfav.push(logId);\n        }\n\n        console.log('logfav===>'+logfav);\n        if(logfav.length > 0)\n        {\n          var param = {\n            agencyId: this.userId,\n            messageLog: logfav,\n          }\n\n          let asksUri = restapiPrefix+'/sendMessageLog/removeFavorite';\n          this.axios.post(asksUri,param).then(response => {\n            if(response.data.status == \"error\")\n            {\n              miniToastr.error(response.data.message, 'No Records found');\n            }\n            else{\n              location.reload();\n              miniToastr.success('Removed from Favorite', 'Success');\n            }\n            \n            console.log(this.favoriteMessages);\n          });\n          }\n        else{\n          miniToastr.info('Please select favorite record to remove from mark favorite', 'Info');\n        }\n      }\n      else{\n        miniToastr.info('Please select record remove from delete', 'Info');\n      }\n    }\n  },\n  filters: {\n    pretty: function(value) {\n      if(value !== undefined)\n      {\n        var a = value.replace(/[\\[\\]\"']+/g,'');\n        var b = a.split(',');\n        return a;\n      }\n    },\n    formatDate: function(dt){\n      return moment(String(dt)).format('MM/DD/YYYY hh:mm')\n    }\n  }\n}\n</script>\n<style scoped>\n.new_email_btn{\n  color:#fff !important\n}\n.icon-d {\n    color: yellow;\n    -webkit-text-stroke-width: 1px;\n    -webkit-text-stroke-color: orange;\n}\n.logActions{\n  margin: 0;\n}\nspan.from {\n  word-break: break-word;\n  padding-right: 10px;\n}\n.active-log-tab{\n  background: #004eff;\n  color: #fff !important;\n}\n.sidebar .nav-link.active {\n    color: inherit !important;\n    background: inherit !important;\n}\n@media (max-width: 768px){\n.sidebar .nav {\n    width: 100%;\n    background-color: white;\n}\n.scroll-area[data-v-2ba57165] {\n    position: absolute;\n    height: 100%;\n    margin: auto;\n    width: 100% !important;\n}\n.sidebar .nav-link {\n  color: black !important;\n}\n.sidebar .sidebar-nav {\n   width: 300px !important;\n}\n}\n@media (max-width: 425px){\n  .sidebar .sidebar-nav {\n   width: 100% !important;\n  }\n}\n@media (max-width: 1024px){\n  .app-header ul.navbar-nav.d-md-down-none .nav-item .nav-link {\n    padding: 0 15px !important;\n}\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favorite.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Favorite.vue?vue&type=template&id=6f47fd6e&scoped=true&\"\nimport script from \"./Favorite.vue?vue&type=script&lang=js&\"\nexport * from \"./Favorite.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Favorite.vue?vue&type=style&index=0&id=6f47fd6e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6f47fd6e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}